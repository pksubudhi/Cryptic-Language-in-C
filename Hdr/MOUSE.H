#include<dos.h>

union REGS in, out;
struct SREGS s;
void initmouse();
void showmouse();
void hidemouse();
void getpos(int *, int *, int *);
void setpos(int,int);
void restmouse(int,int,int,int);
void mouseshape(int,int,int);
/*
Mouse Pointers
*/

int sh[13][32]={
			// Type 1 mouse

			0x0000,0x0000,0x0000,0x0000,
			0x8001,0xc003,0xf00f,0xfc3f,
			0xfc3f,0xf00f,0xc003,0x8001,
			0x0000,0x0000,0x0000,0x0000,

			0xffff,0x8001,0xffff,0x8001,
			0x4002,0x2004,0x1008,0x0240,
			0x0240,0x0810,0x2004,0x4002,
			0x8001,0xffff,0x8001,0xffff,

			// Type 2 Mouse

			0xf1ff,0xce7f,0xbfbf,0xbbbf,
			0x7bdf,0x605f,0x7bdf,0xbbbf,
			0xbfbf,0xce7f,0xf1ff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x0e00,0x3180,0x4040,0x4440,
			0x8420,0x9fa0,0x8420,0x4440,
			0x4040,0x3180,0x0e00,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Cross Circle (Balck Filled)
			0xf1ff,0xc07f,0x803f,0x803f,
			0x001f,0x001f,0x001f,0x803f,
			0x803f,0xc07f,0xf1ff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x0e00,0x3180,0x4040,0x4440,
			0x8420,0x9fa0,0x8420,0x4440,
			0x4040,0x3180,0x0e00,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Filled Pointer
			0x7fff,0x3fff,0x1fff,0x0fff,
			0x07ff,0x03ff,0x01ff,0x00ff,
			0x1fff,0x3fff,0x7fff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x8000,0xc000,0xe000,0xf000,
			0xf800,0xfc00,0xfe00,0xff00,
			0xe000,0xc000,0x8000,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Outline Pinter
			0x7fff,0x3fff,0x1fff,0x0fff,
			0x07ff,0x03ff,0x01ff,0x00ff,
			0x1fff,0x3fff,0x7fff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x8000,0xc000,0xa000,0x9000,
			0x8800,0x8400,0x8200,0x9f00,
			0xa000,0xc000,0x8000,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Perpendicular Bar
			0x7fff,0xffff,0x7fff,0xffff,
			0x7fff,0xffff,0x7fff,0xffff,
			0x7fff,0xffff,0x7fff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x0000,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Gun shot
			0xffff,0xffff,0xffff,0xffff,
			0xfaff,0xf77f,0xffff,0xf77f,
			0xfaff,0xffff,0xffff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x0200,0x0200,0x0200,0x0200,
			0x0000,0x0000,0xf278,0x0000,
			0x0000,0x0200,0x0200,0x0200,
			0x0200,0x0000,0x0000,0x0000,

			// White Direction
			0xfdff,0xf8ff,0xf57f,0xfdff,
			0xdddf,0xbdef,0x0007,0xbdef,
			0xdddf,0xfdff,0xf57f,0xf8ff,
			0xfdff,0xffff,0xffff,0xffff,

			0x0200,0x0700,0x0a80,0x0200,
			0x2220,0x4210,0xfff8,0x4210,
			0x2220,0x0200,0x0a80,0x0700,
			0x0200,0x0000,0x0000,0x0000,

			// Black Direction
			0xfdff,0xf8ff,0xf57f,0xfdff,
			0xdddf,0xbdef,0x0007,0xbdef,
			0xdddf,0xfdff,0xf57f,0xf8ff,
			0xfdff,0xffff,0xffff,0xffff,

			0x0000,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Ek prakar ka mouse
			0xdfdf,0xa02f,0x0007,0xa02f,
			0xdfdf,0xffff,0xffff,0xffff,
			0xffff,0xffff,0xffff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x2020,0x5fd0,0x8008,0x5fd0,
			0x2020,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Separator (Horz)
			0xfdff,0xf8ff,0xf07f,0xffff,
			0xd8df,0x974f,0x1747,0x974f,
			0xd8df,0xffff,0xf07f,0xf8ff,
			0xfdff,0xffff,0xffff,0xffff,

			0x0200,0x0700,0x0f80,0x0000,
			0x2720,0x68b0,0xe8b8,0x68b0,
			0x2720,0x0000,0x0f80,0x0700,
			0x0200,0x0000,0x0000,0x0000,

			// Mere ko pata nahin
			0xf7ff,0xc1ff,0xb6ff,0xb6ff,
			0x087f,0xb6ff,0xb6ff,0xc1ff,
			0xf7ff,0xffff,0xffff,0xffff,
			0xffff,0xffff,0xffff,0xffff,

			0x0800,0x3e00,0x4900,0x4900,
			0xf780,0x4900,0x4900,0x3e00,
			0x0800,0x0000,0x0000,0x0000,
			0x0000,0x0000,0x0000,0x0000,

			// Hourglass1

			0x00ff,0x00ff,0x81ff,0x00ff,
			0x00ff,0x81ff,0x81ff,0xc3ff,
			0x81ff,0x81ff,0x00ff,0x00ff,
			0x81ff,0x00ff,0x00ff,0xffff,

			0xff00,0x8100,0x7e00,0x8100,
			0x8100,0x4200,0x4200,0x3c00,
			0x4200,0x4200,0x8100,0x8100,
			0x7e00,0x8100,0xff00,0x0000
			};

void initmouse()
{
	in.x.ax=0;
	int86(0x33,&in,&out);
}
void showmouse()
{
	in.x.ax=1;
	int86(0x33,&in,&out);
}
void hidemouse()
{
	in.x.ax=2;
	int86(0x33,&in,&out);
}
void getpos(int *btn,int *x, int *y)
{
	in.x.ax=3;
	int86(0x33,&in,&out);
	*btn=out.x.bx;
	*x=out.x.cx;
	*y=out.x.dx;
}
void setpos(int x, int y)
{
	in.x.ax=4;
	in.x.cx=x;
	in.x.dx=y;
	int86(0x33,&in,&out);
}
void restmouse(int x1, int x2, int y1, int y2)
{
	in.x.ax=7;
	in.x.cx=x1;
	in.x.dx=x2;
	int86(0x33,&in,&out);
	in.x.ax=8;
	in.x.cx=y1;
	in.x.dx=y2;
	int86(0x33,&in,&out);
}
void mouseshape(int shape,int x, int y)
{
	in.x.ax=9;
	in.x.bx=x;
	in.x.cx=y;
	in.x.dx=(unsigned)sh[shape];
	segread(&s);
	s.es=s.ds;
	int86x(0x33,&in,&out,&s);
}